{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% load crispy_forms_tags %}
{% load custom_filters %}

{% block title %}{% trans "Contact" %} - A²ELBM2{% endblock %}

{% block meta_description %}{% trans "Contactez l'Association des Anciens Élèves du Lycée Bilingue de Melong 2. Plusieurs moyens de communication disponibles." %}{% endblock %}

{% block extra_css %}
<style>
    /* Variables CSS personnalisées */
    :root {
        --contact-primary: #2C5530;
        --contact-secondary: #FFD700;
        --contact-success: #28a745;
        --contact-info: #17a2b8;
        --contact-warning: #ffc107;
        --contact-danger: #dc3545;
        --contact-dark: #343a40;
        --contact-light: #f8f9fa;
        --shadow-sm: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        --shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        --shadow-lg: 0 1rem 3rem rgba(0, 0, 0, 0.175);
    }

    /* Espacement personnalisé */
    .py-6 {
        padding: 6rem 0;
    }

    /* Section Hero */
    .contact-hero {
        min-height: 80vh;
        background: linear-gradient(135deg, rgba(44,85,48,0.95) 0%, rgba(74,124,89,0.9) 100%), url('{% static "images/contact-hero.jpg" %}');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        color: white;
        position: relative;
        overflow: hidden;
    }

    .contact-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('{% static "images/connect-pattern.svg" %}') repeat;
        opacity: 0.1;
        z-index: 1;
    }

    .hero-content {
        position: relative;
        z-index: 2;
    }

    .breadcrumb-item a {
        color: rgba(255, 255, 255, 0.7) !important;
        text-decoration: none;
    }

    .breadcrumb-item.active {
        color: white !important;
    }

    .hero-badge .badge {
        font-size: 1.1rem;
        padding: 0.75rem 1.5rem;
    }

    .hero-title {
        font-size: 3.5rem;
        font-weight: 700;
        text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
        line-height: 1.2;
    }

    .hero-subtitle {
        font-size: 1.3rem;
        color: rgba(255, 255, 255, 0.9);
        line-height: 1.6;
        max-width: 650px;
    }

    /* Animations flottantes */
    @keyframes float {
        0%, 100% { 
            transform: translateY(0px) rotate(0deg); 
        }
        50% { 
            transform: translateY(-20px) rotate(5deg); 
        }
    }

    .floating-icon {
        animation: float 6s ease-in-out infinite;
    }

    .floating-icon:nth-child(2) {
        animation-delay: 2s;
        animation-duration: 8s;
    }

    .floating-icon:nth-child(3) {
        animation-delay: 4s;
        animation-duration: 7s;
    }

    /* Section méthodes de contact */
    .contact-methods-section {
        background: var(--contact-light);
        padding: 6rem 0;
    }

    .section-header {
        text-align: center;
        margin-bottom: 4rem;
    }

    .section-badge {
        font-size: 1.1rem;
        padding: 0.75rem 1.5rem;
        margin-bottom: 1.5rem;
        display: inline-block;
    }

    .section-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--contact-dark);
        margin-bottom: 1.5rem;
    }

    .section-description {
        font-size: 1.2rem;
        color: #6c757d;
        max-width: 700px;
        margin: 0 auto;
    }

    /* Cards des méthodes de contact */
    .contact-method-card {
        background: white;
        border-radius: 20px;
        padding: 2.5rem 2rem;
        text-align: center;
        height: 100%;
        box-shadow: var(--shadow);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        border: 1px solid rgba(0,0,0,0.05);
        position: relative;
        overflow: hidden;
    }

    .contact-method-card::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 100px;
        height: 100px;
        opacity: 0.05;
        font-size: 4rem;
        transform: translate(20px, -20px);
    }

    .contact-method-card:hover {
        transform: translateY(-15px) scale(1.02);
        box-shadow: var(--shadow-lg);
    }

    .method-icon {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
        font-size: 2rem;
        transition: all 0.3s ease;
    }

    .contact-method-card:hover .method-icon {
        transform: scale(1.1) rotateY(10deg);
    }

    .method-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--contact-dark);
        margin-bottom: 1rem;
    }

    .method-description {
        color: #6c757d;
        margin-bottom: 1.5rem;
        line-height: 1.6;
    }

    .contact-info {
        margin-bottom: 1.5rem;
    }

    .info-item {
        margin-bottom: 1rem;
    }

    .info-item strong {
        color: var(--contact-dark);
        display: block;
        margin-bottom: 0.25rem;
    }

    .info-item a {
        text-decoration: none;
        font-weight: 500;
    }

    .method-badge {
        margin-top: 1rem;
    }

    /* Section formulaire */
    .contact-form-section {
        padding: 6rem 0;
        background: white;
    }

    .form-container {
        max-width: 800px;
        margin: 0 auto;
    }

    .contact-form-card {
        background: white;
        border-radius: 20px;
        padding: 3rem;
        box-shadow: var(--shadow-lg);
        border: 1px solid rgba(0,0,0,0.05);
    }

    .form-floating {
        margin-bottom: 1.5rem;
    }

    .form-floating > .form-control {
        border-radius: 15px;
        border: 2px solid #e9ecef;
        transition: all 0.3s ease;
        background: white;
        color: var(--contact-dark);
    }

    .form-floating > .form-control:focus {
        border-color: var(--contact-success);
        box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
        background: white;
    }

    .form-floating > label {
        color: #6c757d;
        font-weight: 500;
    }

    .form-control::placeholder {
        color: #adb5bd;
    }

    /* Section bureau et localisation */
    .office-section {
        background: var(--contact-light);
        padding: 6rem 0;
    }

    .office-details {
        background: white;
        border-radius: 20px;
        padding: 2.5rem;
        box-shadow: var(--shadow);
    }

    .detail-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 2rem;
        padding: 1rem;
        border-radius: 10px;
        transition: all 0.3s ease;
    }

    .detail-item:hover {
        background: rgba(44, 85, 48, 0.05);
        transform: translateX(10px);
    }

    .detail-icon {
        width: 60px;
        height: 60px;
        min-width: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 1.5rem;
        font-size: 1.5rem;
        color: white;
    }

    .detail-content h6 {
        color: var(--contact-dark);
        font-weight: 700;
        margin-bottom: 0.5rem;
    }

    .detail-content p {
        color: #6c757d;
        margin: 0;
        line-height: 1.6;
    }

    /* Section FAQ */
    .faq-section {
        padding: 6rem 0;
        background: white;
    }

    .accordion-item {
        border: none;
        box-shadow: var(--shadow-sm);
        margin-bottom: 1rem;
        border-radius: 15px !important;
        overflow: hidden;
    }

    .accordion-button {
        background: white;
        color: var(--contact-dark);
        border: none;
        border-radius: 15px !important;
        font-weight: 600;
        padding: 1.5rem 2rem;
    }

    .accordion-button:not(.collapsed) {
        background: linear-gradient(135deg, var(--contact-primary), #4A7C59);
        color: white;
        box-shadow: none;
    }

    .accordion-button:focus {
        box-shadow: 0 0 0 0.2rem rgba(44, 85, 48, 0.25);
    }

    .accordion-body {
        padding: 2rem;
        background: white;
        color: var(--contact-dark);
        line-height: 1.7;
    }

    /* Section urgence */
    .emergency-section {
        background: linear-gradient(135deg, var(--contact-primary) 0%, #4A7C59 100%);
        color: white;
        padding: 5rem 0;
        position: relative;
        overflow: hidden;
    }

    .emergency-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('{% static "images/emergency-pattern.svg" %}') repeat;
        opacity: 0.1;
        z-index: 1;
    }

    .emergency-content {
        position: relative;
        z-index: 2;
        text-align: center;
    }

    .emergency-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
    }

    .emergency-description {
        font-size: 1.2rem;
        opacity: 0.9;
        margin-bottom: 3rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }

    .emergency-contacts {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        flex-wrap: wrap;
    }

    .emergency-contacts .btn {
        padding: 1rem 2rem;
        border-radius: 50px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .emergency-contacts .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.3);
    }

    /* Styles de validation du formulaire */
    .form-control.is-valid {
        border-color: var(--contact-success);
        background: white;
    }

    .form-control.is-invalid {
        border-color: var(--contact-danger);
        background: white;
    }

    .invalid-feedback,
    .valid-feedback {
        font-size: 0.875rem;
        font-weight: 500;
        margin-top: 0.5rem;
    }

    /* Messages d'alerte */
    #form-messages .alert {
        border-radius: 15px;
        border: none;
        padding: 1.5rem;
        font-weight: 500;
        margin-top: 2rem;
    }

    .alert-success {
        background: rgba(40, 167, 69, 0.1);
        color: var(--contact-success);
        border-left: 4px solid var(--contact-success);
    }

    .alert-danger {
        background: rgba(220, 53, 69, 0.1);
        color: var(--contact-danger);
        border-left: 4px solid var(--contact-danger);
    }

    /* Bouton de soumission du formulaire */
    .submit-btn {
        background: linear-gradient(135deg, var(--contact-success), #20c997);
        border: none;
        border-radius: 50px;
        padding: 1rem 3rem;
        font-weight: 600;
        color: white;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .submit-btn:hover {
        background: linear-gradient(135deg, #20c997, var(--contact-success));
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(40, 167, 69, 0.3);
    }

    .submit-btn:disabled {
        opacity: 0.7;
        cursor: not-allowed;
    }

    .submit-btn.loading .btn-text {
        opacity: 0;
    }

    .submit-btn::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 20px;
        height: 20px;
        margin: -10px 0 0 -10px;
        border: 2px solid transparent;
        border-top: 2px solid white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .submit-btn.loading::after {
        opacity: 1;
    }

    @keyframes spin {
        to { transform: rotate(360deg); }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .py-6 {
            padding: 4rem 0;
        }

        .hero-title {
            font-size: 2.5rem;
        }

        .hero-subtitle {
            font-size: 1.1rem;
        }

        .section-title {
            font-size: 2rem;
        }

        .contact-form-card {
            padding: 2rem;
        }

        .emergency-contacts {
            flex-direction: column;
            align-items: center;
        }

        .emergency-contacts .btn {
            width: 100%;
            max-width: 300px;
        }

        .contact-hero {
            background-attachment: scroll;
        }
    }

    /* Animation fade-in */
    .fade-in-success {
        animation: fadeInSuccess 0.8s ease-out;
    }

    @keyframes fadeInSuccess {
        from {
            opacity: 0;
            transform: scale(0.8) translateY(20px);
        }
        to {
            opacity: 1;
            transform: scale(1) translateY(0);
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<br><br>    <br><br>


<section class="contact-hero d-flex align-items-center">
    <br><br>
    <!-- Éléments flottants -->
    <div class="position-absolute w-100 h-100 top-0 start-0" style="pointer-events: none; z-index: 1;">
        <div class="floating-icon position-absolute text-warning" style="top: 15%; left: 8%; font-size: 3rem; opacity: 0.2;">
            <i class="fas fa-envelope"></i>
        </div>
        <div class="floating-icon position-absolute text-white" style="top: 60%; right: 12%; font-size: 2.5rem; opacity: 0.15;">
            <i class="fas fa-phone"></i>
        </div>
        <div class="floating-icon position-absolute text-warning" style="top: 30%; right: 25%; font-size: 2rem; opacity: 0.25;">
            <i class="fas fa-comments"></i>
        </div>
    </div>

    <div class="container hero-content">
        <div class="row align-items-center">
            <div class="col-lg-8" data-aos="fade-right">
                <!-- Breadcrumb -->
                <nav aria-label="breadcrumb" class="mb-4">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="{% url 'home' %}">{% trans "Accueil" %}</a>
                        </li>
                        <li class="breadcrumb-item active">{% trans "Contact" %}</li>
                    </ol>
                </nav>

                <!-- Badge -->
                <div class="hero-badge mb-4">
                    <span class="badge bg-warning text-dark rounded-pill">
                        <i class="fas fa-handshake me-2"></i>
                        {% trans "Restons Connectés" %}
                    </span>
                </div>

                <!-- Titre -->
                <h1 class="hero-title mb-4">
                    {% trans "Entrons en" %} <span class="text-warning">{% trans "Contact" %}</span><br>
                    {% trans "Ensemble" %}
                </h1>

                <!-- Description -->
                <p class="hero-subtitle mb-5">
                    {% trans "Nous sommes là pour vous écouter. Que vous ayez une question, une suggestion ou souhaitiez rejoindre notre communauté, n'hésitez pas à nous contacter." %}
                </p>

                <!-- Boutons d'action -->
                <div class="d-flex flex-wrap gap-3">
                    <a href="#contact-form" class="btn btn-warning btn-lg px-5 py-3 rounded-pill">
                        <i class="fas fa-envelope me-2"></i>
                        {% trans "Envoyer un Message" %}
                    </a>
                    <a href="tel:+237673583241" class="btn btn-outline-light btn-lg px-5 py-3 rounded-pill">
                        <i class="fas fa-phone me-2"></i>
                        {% trans "Nous Appeler" %}
                    </a>
                </div>
            </div>

            <div class="col-lg-4 text-center d-none d-lg-block" data-aos="fade-left" data-aos-delay="300">
                <!-- Illustration visuelle -->
                <div class="position-relative">
                    <div class="bg-white rounded-4 p-4 shadow-lg" style="transform: rotate(-5deg); max-width: 300px; margin: 0 auto;">
                        <div class="bg-primary rounded-3 p-3 text-white text-center">
                            <h6 class="fw-bold mb-2">A²ELBM2</h6>
                            <p class="small mb-3">{% trans "Nous contacter" %}</p>
                            <div class="d-flex justify-content-center gap-2">
                                <i class="fas fa-phone"></i>
                                <i class="fas fa-envelope"></i>
                                <i class="fab fa-whatsapp"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section Méthodes de Contact -->
<section class="contact-methods-section">
    <div class="container">
        <!-- En-tête de section -->
        <div class="section-header" data-aos="fade-up">
            <span class="section-badge badge bg-primary text-white rounded-pill">
                <i class="fas fa-comments me-2"></i>
                {% trans "Moyens de Communication" %}
            </span>
            <h2 class="section-title">
                {% trans "Comment Nous" %} <span class="text-primary">{% trans "Joindre" %}</span>
            </h2>
            <p class="section-description">
                {% trans "Choisissez le moyen de communication qui vous convient le mieux. Nous nous engageons à vous répondre rapidement." %}
            </p>
        </div>

        <!-- Cards des méthodes -->
        <div class="row g-4">
            <!-- WhatsApp -->
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="100">
                <div class="contact-method-card">
                    <div class="method-icon bg-success text-white">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <h5 class="method-title">{% trans "WhatsApp" %}</h5>
                    <p class="method-description">
                        {% trans "Messagerie instantanée pour une réponse rapide et directe." %}
                    </p>
                    <div class="contact-info">
                        <div class="info-item">
                            <strong>{% trans "Président" %}:</strong>
                            <a href="https://wa.me/237673583241" class="text-success">+237 6 73 58 32 41</a>
                        </div>
                        <div class="info-item">
                            <strong>{% trans "Trésorier" %}:</strong>
                            <small class="text-muted d-block">MTN: 683533430</small>
                            <small class="text-muted">Orange: 698810079</small>
                        </div>
                    </div>
                    <a href="https://wa.me/237673583241?text=Bonjour, je souhaite avoir des informations sur l'association A²ELBM2" 
                       class="btn btn-success rounded-pill px-4" target="_blank">
                        <i class="fab fa-whatsapp me-2"></i>
                        {% trans "Ouvrir WhatsApp" %}
                    </a>
                    <div class="method-badge">
                        <span class="badge bg-success rounded-pill">{% trans "Réponse immédiate" %}</span>
                    </div>
                </div>
            </div>

            <!-- Email -->
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="200">
                <div class="contact-method-card">
                    <div class="method-icon bg-primary text-white">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h5 class="method-title">{% trans "Email" %}</h5>
                    <p class="method-description">
                        {% trans "Pour les demandes officielles et les communications formelles." %}
                    </p>
                    <div class="contact-info">
                        <div class="info-item">
                            <strong>{% trans "Email Principal" %}:</strong>
                            <a href="mailto:contact@propentatech.com" class="text-primary">contact@propentatech.com</a>
                        </div>
                        <div class="info-item">
                            <small class="text-muted">{% trans "Nous répondons sous 24h en moyenne" %}</small>
                        </div>
                    </div>
                    <a href="mailto:contact@propentatech.com?subject=Contact depuis le site A²ELBM2" 
                       class="btn btn-primary rounded-pill px-4">
                        <i class="fas fa-envelope me-2"></i>
                        {% trans "Envoyer un Email" %}
                    </a>
                    <div class="method-badge">
                        <span class="badge bg-primary rounded-pill">{% trans "< 24h" %}</span>
                    </div>
                </div>
            </div>

            <!-- Téléphone -->
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="300">
                <div class="contact-method-card">
                    <div class="method-icon bg-warning text-dark">
                        <i class="fas fa-phone"></i>
                    </div>
                    <h5 class="method-title">{% trans "Téléphone" %}</h5>
                    <p class="method-description">
                        {% trans "Pour les urgences et les discussions importantes." %}
                    </p>
                    <div class="contact-info">
                        <div class="info-item">
                            <strong>{% trans "Numéro Principal" %}:</strong>
                            <a href="tel:+237673583241" class="text-warning text-decoration-none">+237 6 73 58 32 41</a>
                        </div>
                        <div class="info-item">
                            <small class="text-muted">{% trans "Lun-Ven: 8h-18h | Sam: 9h-15h" %}</small>
                        </div>
                    </div>
                    <a href="tel:+237673583241" class="btn btn-warning rounded-pill px-4 text-dark">
                        <i class="fas fa-phone me-2"></i>
                        {% trans "Appeler Maintenant" %}
                    </a>
                    <div class="method-badge">
                        <span class="badge bg-warning text-dark rounded-pill">{% trans "Direct" %}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section Formulaire de Contact -->
<section id="contact-form" class="contact-form-section">
    <div class="container">
        <div class="form-container" data-aos="fade-up">
            <!-- En-tête -->
            <div class="section-header">
                <span class="section-badge badge bg-success text-white rounded-pill">
                    <i class="fas fa-paper-plane me-2"></i>
                    {% trans "Formulaire de Contact" %}
                </span>
                <h2 class="section-title">
                    {% trans "Envoyez-nous un" %} <span class="text-success">{% trans "Message" %}</span>
                </h2>
                <p class="section-description">
                    {% trans "Remplissez le formulaire ci-dessous et nous vous répondrons dans les plus brefs délais." %}
                </p>
            </div>

            <!-- Formulaire -->
            <div class="contact-form-card">
                <form method="post" id="contactForm">
                    {% csrf_token %}
                    <div class="row g-3">
                        <!-- Nom complet -->
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control" id="id_nom_prenom" name="nom_prenom" 
                                       placeholder="{% trans 'Nom et prénom' %}" required>
                                <label for="id_nom_prenom">
                                    <i class="fas fa-user me-2"></i>
                                    {% trans "Nom et prénom" %}
                                </label>
                            </div>
                        </div>

                        <!-- Email -->
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="email" class="form-control" id="id_email" name="email" 
                                       placeholder="{% trans 'Adresse email' %}" required>
                                <label for="id_email">
                                    <i class="fas fa-envelope me-2"></i>
                                    {% trans "Adresse email" %}
                                </label>
                            </div>
                        </div>

                        <!-- Téléphone -->
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="tel" class="form-control" id="id_telephone" name="telephone" 
                                       placeholder="{% trans 'Numéro de téléphone' %}">
                                <label for="id_telephone">
                                    <i class="fas fa-phone me-2"></i>
                                    {% trans "Numéro de téléphone" %}
                                </label>
                            </div>
                        </div>

                        <!-- Sujet -->
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control" id="id_sujet" name="sujet" 
                                       placeholder="{% trans 'Sujet de votre message' %}" required>
                                <label for="id_sujet">
                                    <i class="fas fa-tag me-2"></i>
                                    {% trans "Sujet de votre message" %}
                                </label>
                            </div>
                        </div>

                        <!-- Message -->
                        <div class="col-12">
                            <div class="form-floating">
                                <textarea class="form-control" id="id_message" name="message" 
                                          style="height: 150px;" placeholder="{% trans 'Votre message' %}" required></textarea>
                                <label for="id_message">
                                    <i class="fas fa-comment me-2"></i>
                                    {% trans "Votre message" %}
                                </label>
                            </div>
                        </div>

                        <!-- Case à cocher confidentialité -->
                        <div class="col-12">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="privacy" required>
                                <label class="form-check-label text-dark" for="privacy">
                                    {% trans "J'accepte que mes données soient utilisées pour me recontacter concernant ma demande." %}
                                </label>
                            </div>
                        </div>

                        <!-- Bouton de soumission -->
                        <div class="col-12 text-center">
                            <button type="submit" class="submit-btn">
                                <i class="fas fa-paper-plane me-2"></i>
                                <span class="btn-text">{% trans "Envoyer le Message" %}</span>
                            </button>
                        </div>
                    </div>
                </form>

                <!-- Messages du formulaire -->
                <div id="form-messages"></div>
            </div>
        </div>
    </div>
</section>

<!-- Section Bureau et Localisation -->
<section class="office-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-5 mb-lg-0" data-aos="fade-right">
                <!-- En-tête -->
                <div class="mb-4">
                    <span class="section-badge badge bg-info text-white rounded-pill">
                        <i class="fas fa-map-marker-alt me-2"></i>
                        {% trans "Notre Localisation" %}
                    </span>
                    <h3 class="section-title">
                        {% trans "Où Nous" %} <span class="text-info">{% trans "Trouver" %}</span>
                    </h3>
                    <p class="section-description">
                        {% trans "Bien que notre association soit principalement digitale, nous restons ancrés dans notre territoire d'origine." %}
                    </p>
                </div>

                <!-- Détails du bureau -->
                <div class="office-details">
                    <!-- Adresse -->
                    <div class="detail-item">
                        <div class="detail-icon bg-info">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="detail-content">
                            <h6>{% trans "Adresse" %}</h6>
                            <p>
                                {% trans "Lycée Bilingue de Melong 2" %}<br>
                                {% trans "Melong, Littoral" %}<br>
                                {% trans "Cameroun" %}
                            </p>
                        </div>
                    </div>

                    <!-- Horaires -->
                    <div class="detail-item">
                        <div class="detail-icon bg-success">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="detail-content">
                            <h6>{% trans "Disponibilité" %}</h6>
                            <p>
                                <strong>{% trans "Lundi - Vendredi" %}:</strong> 8h00 - 18h00<br>
                                <strong>{% trans "Samedi" %}:</strong> 9h00 - 15h00<br>
                                <strong>{% trans "Dimanche" %}:</strong> {% trans "Fermé" %}
                            </p>
                        </div>
                    </div>

                    <!-- Réunions -->
                    <div class="detail-item">
                        <div class="detail-icon bg-warning">
                            <i class="fas fa-users text-dark"></i>
                        </div>
                        <div class="detail-content">
                            <h6>{% trans "Réunions" %}</h6>
                            <p>
                                {% trans "Assemblées générales trimestrielles" %}<br>
                                {% trans "Réunions du bureau mensuelles" %}<br>
                                <small class="text-info">{% trans "Sur rendez-vous uniquement" %}</small>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6" data-aos="fade-left" data-aos-delay="300">
                <!-- Carte -->
                <div class="bg-white rounded-4 p-3 shadow-lg">
                    <div class="bg-light rounded-3 d-flex align-items-center justify-content-center" style="height: 400px;">
                        <div class="text-center">
                            <i class="fas fa-map-marked-alt fa-3x text-info mb-3"></i>
                            <h5 class="fw-bold mb-2 text-dark">{% trans "Carte Interactive" %}</h5>
                            <p class="text-muted mb-3">{% trans "Localisation du Lycée Bilingue de Melong 2" %}</p>
                            <button class="btn btn-info rounded-pill" onclick="openMap()">
                                <i class="fas fa-external-link-alt me-2"></i>
                                {% trans "Ouvrir dans Google Maps" %}
                            </button>
                        </div>
                    </div>

                    <!-- Informations de carte -->
                    <div class="mt-3 p-3 bg-light rounded-3">
                        <div class="row text-center">
                            <div class="col-4">
                                <h6 class="text-info fw-bold mb-1">5 min</h6>
                                <small class="text-muted">{% trans "du centre" %}</small>
                            </div>
                            <div class="col-4">
                                <h6 class="text-success fw-bold mb-1">{% trans "Transport" %}</h6>
                                <small class="text-muted">{% trans "accessible" %}</small>
                            </div>
                            <div class="col-4">
                                <h6 class="text-warning fw-bold mb-1">{% trans "Parking" %}</h6>
                                <small class="text-muted">{% trans "disponible" %}</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section FAQ -->
<section class="faq-section">
    <div class="container">
        <!-- En-tête -->
        <div class="section-header" data-aos="fade-up">
            <span class="section-badge badge bg-warning text-dark rounded-pill">
                <i class="fas fa-question-circle me-2"></i>
                {% trans "Questions Fréquentes" %}
            </span>
            <h2 class="section-title">
                {% trans "Réponses à Vos" %} <span class="text-warning">{% trans "Questions" %}</span>
            </h2>
            <p class="section-description">
                {% trans "Trouvez rapidement les réponses aux questions les plus courantes sur notre association." %}
            </p>
        </div>

        <!-- Accordéon FAQ -->
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="accordion" id="faqAccordion" data-aos="fade-up" data-aos-delay="300">
                    <!-- Question 1 -->
                    <div class="accordion-item">
                        <h3 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                <i class="fas fa-user-plus me-3 text-primary"></i>
                                {% trans "Comment devenir membre de l'association ?" %}
                            </button>
                        </h3>
                        <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                {% trans "Pour devenir membre, vous devez être un ancien élève du Lycée Bilingue de Melong 2. Remplissez le formulaire d'adhésion en ligne ou contactez-nous directement. L'adhésion est gratuite et vous donne accès à tous nos services et événements." %}
                            </div>
                        </div>
                    </div>

                    <!-- Question 2 -->
                    <div class="accordion-item">
                        <h3 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                <i class="fas fa-calendar me-3 text-success"></i>
                                {% trans "À quelle fréquence organisez-vous des événements ?" %}
                            </button>
                        </h3>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                {% trans "Nous organisons des événements régulièrement : assemblées générales trimestrielles, gala annuel, ateliers de formation, et rencontres informelles. Abonnez-vous à notre newsletter pour être informé de tous nos événements." %}
                            </div>
                        </div>
                    </div>

                    <!-- Question 3 -->
                    <div class="accordion-item">
                        <h3 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                <i class="fas fa-hand-holding-heart me-3 text-danger"></i>
                                {% trans "Comment puis-je contribuer aux projets de l'association ?" %}
                            </button>
                        </h3>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                {% trans "Vous pouvez contribuer de plusieurs façons : dons financiers via mobile money, participation bénévole aux projets, parrainage d'élèves, ou en proposant vos compétences professionnelles. Contactez-nous pour discuter de votre contribution." %}
                            </div>
                        </div>
                    </div>

                    <!-- Question 4 -->
                    <div class="accordion-item">
                        <h3 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                <i class="fas fa-network-wired me-3 text-info"></i>
                                {% trans "Quels sont les avantages du réseau d'anciens ?" %}
                            </button>
                        </h3>
                        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                {% trans "Notre réseau vous offre des opportunités de networking professionnel, de mentorat, d'entraide, d'accès à des formations, et de participation à des projets impactants. C'est aussi un moyen de rester connecté avec vos anciens camarades." %}
                            </div>
                        </div>
                    </div>

                    <!-- Question 5 -->
                    <div class="accordion-item">
                        <h3 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                <i class="fas fa-shield-alt me-3 text-warning"></i>
                                {% trans "Comment sont utilisées mes données personnelles ?" %}
                            </button>
                        </h3>
                        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                {% trans "Vos données sont utilisées uniquement pour les activités de l'association : communications, invitations aux événements, et gestion des membres. Nous respectons strictement la confidentialité et ne partageons jamais vos informations avec des tiers." %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lien vers contact direct -->
                <div class="text-center mt-5" data-aos="fade-up" data-aos-delay="500">
                    <p class="text-muted mb-3">{% trans "Vous ne trouvez pas la réponse à votre question ?" %}</p>
                    <a href="#contact-form" class="btn btn-outline-primary rounded-pill px-4">
                        <i class="fas fa-envelope me-2"></i>
                        {% trans "Nous Contacter Directement" %}
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section Contact d'Urgence -->
<section class="emergency-section">
    <div class="container">
        <div class="emergency-content" data-aos="zoom-in">
            <i class="fas fa-exclamation-triangle fa-3x text-warning mb-4"></i>
            
            <h2 class="emergency-title">
                {% trans "Contact" %} <span class="text-warning">{% trans "d'Urgence" %}</span>
            </h2>
            
            <p class="emergency-description">
                {% trans "Pour toute situation urgente concernant un membre de l'association ou une urgence relative au lycée, contactez-nous immédiatement." %}
            </p>
            
            <div class="emergency-contacts">
                <a href="tel:+237673583241" class="btn btn-warning btn-lg text-dark">
                    <i class="fas fa-phone me-2"></i>
                    {% trans "Appel d'Urgence" %}
                </a>
                <a href="https://wa.me/237673583241?text=URGENCE: " class="btn btn-outline-light btn-lg" target="_blank">
                    <i class="fab fa-whatsapp me-2"></i>
                    {% trans "WhatsApp Urgent" %}
                </a>
            </div>
            
            <div class="mt-4">
                <small style="opacity: 0.75;">
                    {% trans "Disponible 24h/24 pour les vraies urgences | Temps de réponse : < 30 minutes" %}
                </small>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialisation du formulaire de contact
    initContactForm();
    initRealTimeValidation();
    initSmoothScrolling();
    initHoverEffects();
    initParallaxEffect();
});

// Gestion du formulaire de contact
function initContactForm() {
    const form = document.getElementById('contactForm');
    const messagesContainer = document.getElementById('form-messages');

    if (form) {
        form.addEventListener('submit', function(e) {
            e.preventDefault();

            const submitBtn = form.querySelector('.submit-btn');
            const btnText = submitBtn.querySelector('.btn-text');
            const originalText = btnText.textContent;

            // Validation du formulaire
            if (!validateForm(form)) {
                showMessage('error', '{% trans "Veuillez corriger les erreurs dans le formulaire." %}');
                return;
            }

            // État de chargement
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;
            btnText.textContent = '{% trans "Envoi en cours..." %}';

            // Simulation d'envoi (remplacer par vraie soumission)
            setTimeout(() => {
                // Succès
                showMessage('success', '{% trans "Votre message a été envoyé avec succès ! Nous vous répondrons dans les plus brefs délais." %}');
                
                // Réinitialisation
                form.reset();
                removeValidationClasses(form);
                
                // Réinitialisation du bouton
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
                btnText.textContent = originalText;

                // Scroll vers le message
                messagesContainer.scrollIntoView({ behavior: 'smooth' });
                
                // Redirection vers page de succès après 2 secondes
                setTimeout(() => {
                    window.location.href = '{% url "contact_success" %}';
                }, 2000);
            }, 2000);
        });
    }
}

// Validation du formulaire
function validateForm(form) {
    let isValid = true;
    const requiredFields = form.querySelectorAll('[required]');

    requiredFields.forEach(field => {
        if (!field.value.trim()) {
            setFieldInvalid(field, '{% trans "Ce champ est requis." %}');
            isValid = false;
        } else if (field.type === 'email' && !isValidEmail(field.value)) {
            setFieldInvalid(field, '{% trans "Veuillez entrer une adresse email valide." %}');
            isValid = false;
        } else {
            setFieldValid(field);
        }
    });

    return isValid;
}

// Validation email
function isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
}

// Définir champ valide
function setFieldValid(field) {
    field.classList.remove('is-invalid');
    field.classList.add('is-valid');
    const feedback = field.parentNode.querySelector('.invalid-feedback');
    if (feedback) feedback.remove();
}

// Définir champ invalide
function setFieldInvalid(field, message) {
    field.classList.remove('is-valid');
    field.classList.add('is-invalid');

    let feedback = field.parentNode.querySelector('.invalid-feedback');
    if (!feedback) {
        feedback = document.createElement('div');
        feedback.className = 'invalid-feedback';
        field.parentNode.appendChild(feedback);
    }
    feedback.textContent = message;
}

// Supprimer les classes de validation
function removeValidationClasses(form) {
    const fields = form.querySelectorAll('.form-control');
    fields.forEach(field => {
        field.classList.remove('is-valid', 'is-invalid');
    });

    const feedbacks = form.querySelectorAll('.invalid-feedback');
    feedbacks.forEach(feedback => feedback.remove());
}

// Afficher les messages
function showMessage(type, message) {
    const messagesContainer = document.getElementById('form-messages');
    const alertClass = type === 'success' ? 'alert-success' : 'alert-danger';
    const icon = type === 'success' ? 'fas fa-check-circle' : 'fas fa-exclamation-triangle';

    messagesContainer.innerHTML = `
        <div class="alert ${alertClass} fade-in-success" role="alert">
            <i class="${icon} me-2"></i>
            ${message}
        </div>
    `;

    // Masquer automatiquement après 5 secondes
    setTimeout(() => {
        const alert = messagesContainer.querySelector('.alert');
        if (alert) {
            alert.style.opacity = '0';
            setTimeout(() => alert.remove(), 300);
        }
    }, 5000);
}

// Validation en temps réel
function initRealTimeValidation() {
    const form = document.getElementById('contactForm');
    if (!form) return;

    const fields = form.querySelectorAll('.form-control[required]');

    fields.forEach(field => {
        field.addEventListener('blur', function() {
            if (this.value.trim()) {
                if (this.type === 'email' && !isValidEmail(this.value)) {
                    setFieldInvalid(this, '{% trans "Veuillez entrer une adresse email valide." %}');
                } else {
                    setFieldValid(this);
                }
            }
        });

        field.addEventListener('input', function() {
            if (this.classList.contains('is-invalid') && this.value.trim()) {
                if (this.type === 'email') {
                    if (isValidEmail(this.value)) {
                        setFieldValid(this);
                    }
                } else {
                    setFieldValid(this);
                }
            }
        });
    });
}

// Effets hover améliorés
function initHoverEffects() {
    const cards = document.querySelectorAll('.contact-method-card, .contact-form-card');

    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-15px) scale(1.02)';
            this.style.transition = 'all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
        });

        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
}

// Défilement fluide
function initSmoothScrolling() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                const headerOffset = 100;
                const elementPosition = target.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// Effet parallax
function initParallaxEffect() {
    window.addEventListener('scroll', function() {
        const scrolled = window.pageYOffset;
        const hero = document.querySelector('.contact-hero');
        if (hero && window.innerWidth > 768) {
            hero.style.transform = `translateY(${scrolled * 0.3}px)`;
        }
    });
}

// Ouvrir la carte
function openMap() {
    const mapUrl = 'https://www.google.com/maps/search/Lycée+Bilingue+de+Melong+2,+Cameroun';
    window.open(mapUrl, '_blank');
}

// Redimensionnement automatique du textarea
function autoResizeTextarea() {
    const textarea = document.querySelector('#id_message');
    if (textarea) {
        textarea.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = this.scrollHeight + 'px';
        });
    }
}

// Initialiser le redimensionnement automatique
document.addEventListener('DOMContentLoaded', autoResizeTextarea);
</script>
{% endblock %}